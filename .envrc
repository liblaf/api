#!/bin/bash
# This file is @generated by <https://github.com/liblaf/copier-shared>.
# DO NOT EDIT!

export DIRENV_ROOT="$PWD"

function find-sources() {
  local starting="$1"
  if [[ ! -d $starting ]]; then
    return
  fi
  find "$starting" -name "*.sh" -type f
}

readarray -t files < <(
  find-sources "$PWD/.config/copier/direnv/"
  find-sources "$PWD/.config/direnv/"
)

readarray -t files < <(
  for file in "${files[@]}"; do
    name="$(basename -- "$file")"
    printf "%s\t%s\n" "$name" "$file"
  done |
    sort |
    cut --fields="2"
)

for file in "${files[@]}"; do
  source_env_if_exists "$file"
done
